<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\js\helpInfo.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/ColorSwitcher.html">ColorSwitcher</a></li>
                                <li><a href="../classes/Comment.html">Comment</a></li>
                                <li><a href="../classes/comment.js_anonymous.html">comment.js_anonymous</a></li>
                                <li><a href="../classes/Data.html">Data</a></li>
                                <li><a href="../classes/Global.html">Global</a></li>
                                <li><a href="../classes/helpInfo.js_anonymous.html">helpInfo.js_anonymous</a></li>
                                <li><a href="../classes/IO.html">IO</a></li>
                                <li><a href="../classes/io.js_anonymous.html">io.js_anonymous</a></li>
                                <li><a href="../classes/JQuery.html">JQuery</a></li>
                                <li><a href="../classes/ManualMarkup.html">ManualMarkup</a></li>
                                <li><a href="../classes/manualMarkup.js_anonymous.html">manualMarkup.js_anonymous</a></li>
                                <li><a href="../classes/markupPopup.js_anonymous.html">markupPopup.js_anonymous</a></li>
                                <li><a href="../classes/navbar.js_anonymous.html">navbar.js_anonymous</a></li>
                                <li><a href="../classes/Regex.html">Regex</a></li>
                                <li><a href="../classes/Summary.html">Summary</a></li>
                                <li><a href="../classes/summary.js_anonymous.html">summary.js_anonymous</a></li>
                                <li><a href="../classes/switcher.js_anonymous.html">switcher.js_anonymous</a></li>
                                <li><a href="../classes/tagRegex.js_anonymous.html">tagRegex.js_anonymous</a></li>
                                <li><a href="../classes/UI.html">UI</a></li>
                                <li><a href="../classes/ui.js_anonymous.html">ui.js_anonymous</a></li>
                                <li><a href="../classes/Util.html">Util</a></li>
                                <li><a href="../classes/utilities.js_anonymous.html">utilities.js_anonymous</a></li>
                                <li><a href="../classes/WebDictionary.html">WebDictionary</a></li>
                                <li><a href="../classes/webDictionary.js_anonymous.html">webDictionary.js_anonymous</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/comment.js.html">comment.js</a></li>
                                <li><a href="../modules/data.js.html">data.js</a></li>
                                <li><a href="../modules/helpInfo.js.html">helpInfo.js</a></li>
                                <li><a href="../modules/io.js.html">io.js</a></li>
                                <li><a href="../modules/markupPopup.js.html">markupPopup.js</a></li>
                                <li><a href="../modules/markus.js.html">markus.js</a></li>
                                <li><a href="../modules/navbar.js.html">navbar.js</a></li>
                                <li><a href="../modules/reference.js.html">reference.js</a></li>
                                <li><a href="../modules/summary.js.html">summary.js</a></li>
                                <li><a href="../modules/switcher.js.html">switcher.js</a></li>
                                <li><a href="../modules/tagRegex.js.html">tagRegex.js</a></li>
                                <li><a href="../modules/ui.js.html">ui.js</a></li>
                                <li><a href="../modules/utilities.js.html">utilities.js</a></li>
                                <li><a href="../modules/webDictionary.js.html">webDictionary.js</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src\js\helpInfo.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * helpInfo.js base file.
 * @module helpInfo.js
 */


  /**
  The class that holds the variables and functions created in the namespace of this file.
  The constrcutor of this object is only called once, because it is an anonymous function.

  @class helpInfo.js_anonymous
  @constructor
  @param {Object}  _m a reference to the Markus Configuration Object is passed
  **/
( function(_m) {

    //Define the new HelpInfo object
    _m.helpInfo = {};

    /**
     * In this method we load the specific help template according to the language
     * cookie.
     *
     * @method loadHelpInfo
     */
    var loadHelpInfo = function() {
        var lang = $.cookie(&#x27;lang&#x27;) || &quot;&quot;;
        if ($(&quot;#helpModal&quot;).length &gt; 0) {
            $(&quot;#helpModal&quot;).load(&quot;help&quot; + lang + &quot;.html&quot;, {}, function() {
                registHelp();
            });
        }
    }


    /**
     * Registers the eventHandlers for the help menu.
     *
     * @method registHelp
     */
    var registHelp = function() {
        // alert(&quot;regist Help&quot;);
        markus.ui.colorSwitcher.regist(&quot;#helpModal button.switcher&quot;, &quot;#helpModal&quot;);

        //Shows the modal help button on click
        $(&#x27;#showHelpModalBtn&#x27;).on(&quot;click&quot;, function() {

            $(&#x27;#helpModal&#x27;).modal(&#x27;show&#x27;);
        });

        //Hides the modal popover on scroll
        $(&#x27;#helpModal .modal-body&#x27;).scroll(function() {
            $(&#x27;#helpModal&#x27;).find(&quot;.popover&quot;).hide();
            $(&#x27;.selected&#x27;).removeClass(&quot;selected&quot;);
        });

        //Hides the modal popover on click
        $(&#x27;#helpModal&#x27;).on(&quot;click&quot;, function() {
            $(&#x27;#helpModal&#x27;).find(&quot;.popover&quot;).hide();
            $(&#x27;.selected&#x27;).removeClass(&quot;selected&quot;);
        });

        //Refresh the modal on scroll
        $(&#x27;#helpModal&#x27;).on(&#x27;shown.bs.modal&#x27;, function() {
            $(&#x27;[data-spy=&quot;scroll&quot;]&#x27;).each(function() {
                $(this).scrollspy(&#x27;refresh&#x27;)
            });
        });

        //When you click on the markupSample button the function below triggers.
        $(document).on(&quot;click&quot;, &quot;.markupSample&quot;, sampleMarkupClicked);
    };

    /**
     * Defines what happens when you click the sampleMarkup. Basically, creates contents
     * and shows/hides things depending on what you clicked.
     *
     * @method sampleMarkupClicked
     * @param  {Event} event the event that is passed from the DOM (i.e. the mouse click)
     */
    var sampleMarkupClicked = function(event) {
        //Logging for debug purposes
        console.log(&quot;sampleName&quot;);
        console.log($(this).html());

        //If the markupSample already exists, just return.
        if ($(this).find(&quot;.markupSample&quot;).length &gt; 0) {
            return;
        }

        //prevent the event from bubbling through the event chain
        event.stopPropagation();

        //Hide the cbdbIdPopover and sample1Popover
        $(&quot;#sampleCbdbIdPopover&quot;).hide();
        $(&quot;#sample1Popover&quot;).hide();

        //calculate the offset and find the parent of this element.
        var offset = $(this).offset();
        var _parent = $(this).parent();

        //Get a reference to self.
        var obj = this;

        // remove previous selected tag and set the current as selected
        $(&quot;.selected&quot;).removeClass(&quot;selected&quot;);
        $(this).addClass(&quot;selected&quot;);

        //Find the samplePopover, hide its tagText, and get the tagtext from the current markupSample
        var popover = $(&quot;#sample1Popover&quot;);
        popover.find(&quot;.tagText&quot;).hide();
        var tagText = $(obj).text();

        // console.log(&quot;sample1Popover&quot;);
        /*
          start
          Nested multi tags detect and show popup
        */

        //Hide the typePopoverContent, remove the noColor class and hide it.
        var typePopoverContent = popover.find(&quot;.typePopoverContent&quot;);
        typePopoverContent.hide();
        typePopoverContent.find(&quot;button&quot;).removeClass(&quot;noColor&quot;).hide();

        //A flag that holds if this tag is the same as its parent
        var sameTag = false;

        //If you are identical to your parent
        while (_parent.is(&quot;.markup&quot;) &amp;&amp; _parent.text() == tagText) {
            sameTag = true;
            //Keep showing markups that are contained in the parent
            typePopoverContent.find(&quot;.&quot; + $(_parent).attr(&quot;type&quot;)).show();
            _parent = _parent.parent();
        }
        //Logging of the sameTag status
        console.log(&quot;sameTag = &quot; + sameTag);

        //If there was an identical tag, show that popOver
        if (sameTag) {
            typePopoverContent.find(&quot;.&quot; + $(this).attr(&quot;type&quot;)).show();
            typePopoverContent.show();
        }
        /*
          end nested multi tags
        */
        // clickedMarkup = $(this);
        // if (otherTags.length &gt; 0){
        $(&quot;#sample1Popover&quot;).find(&quot;.search&quot;).show();
        // $(&quot;#sample1Popover&quot;).find(&quot;.trash&quot;).hide();
        // }else {
        $(&quot;#sample1Popover&quot;).find(&quot;.trash&quot;).show();
        // $(&quot;#sample1Popover&quot;).find(&quot;.search&quot;).hide();
        // }
        // console.log($(this).attr(&quot;cbdbid&quot;));

        //Set the offset of the sample1Popover
        $(&quot;#sample1Popover&quot;).show().offset({
            top: offset.top + $(this).height() / 2 - $(&quot;#sample1Popover&quot;).outerHeight() / 2,
            left: offset.left + $(this).outerWidth() + 11
        });

        //If this has a class of fullName or partialName
        if ($(this).hasClass(&quot;fullName&quot;) || $(this).hasClass(&quot;partialName&quot;)) {
            var colorClass = &quot;&quot;;
            var cbdbIdPopover = $(&quot;#sampleCbdbIdPopover&quot;);
            var cbdbIdPopoverContent = cbdbIdPopover.find(&quot;#sampleCbdbIdPopoverContent&quot;);

            //Set the color based on what name it is
            if ($(this).hasClass(&quot;fullName&quot;)) {
                colorClass = &quot;btn-danger&quot; ;
                cbdbIdPopoverContent.addClass(&quot;has-error&quot;).removeClass(&quot;has-warning&quot;);
            } else {
                colorClass = &quot;btn-warning&quot;;
                cbdbIdPopoverContent.addClass(&quot;has-warning&quot;).removeClass(&quot;has-error&quot;);
            }

            //Remove the popoOvercontent button
            cbdbIdPopoverContent.find(&quot;button&quot;).remove();

            //If the cbdbid attribute does not yet exist, we create it.
            if (!$(this).attr(&quot;cbdbid&quot;)) {
                $(this).attr(&quot;cbdbid&quot;, &quot;&quot;);
            }
            //Split multiple associated ids
            var cbdbids = $(this).attr(&quot;cbdbid&quot;).split(&quot;|&quot;);
            var cbdbIdsHTML = &quot;&quot;;

            //For each of the split associated cbdbIDs
            for (var i = 0; i &lt; cbdbids.length; i++) {
                //As long as it is an actual cbdbid (length &gt; 0)
                if (cbdbids[i].length &gt; 0) {
                    //Create a button with inline styling.
                    cbdbIdsHTML += &quot;&lt;button class=&#x27;btn &quot; + colorClass + &quot; btn-xs&#x27; style=&#x27;margin-bottom: 1px;&#x27;&gt;&quot; + cbdbids[i] + &quot;&lt;/button&gt; &quot;;
                }
            }

            //Set the offset of the sampleCbdbIdPopover.
            $(&quot;#sampleCbdbIdPopover&quot;).addClass(&quot;top&quot;).removeClass(&quot;bottom&quot;).show().offset({
                top: offset.top - $(&quot;#sampleCbdbIdPopover&quot;).outerHeight() - 11,
                left: offset.left + $(this).outerWidth() / 2 - $(&quot;#sampleCbdbIdPopover&quot;).outerWidth() / 2
            });

            //Prepend the cbdbIdsHTML tot the content
            $(cbdbIdPopoverContent).prepend(cbdbIdsHTML);
        }
        console.log(&quot;after&quot;);
    }

    //Register the helpInfo.register function to the loadHelpInfo defined above
    _m.helpInfo.register = function() {
        loadHelpInfo();
    }
} )(markus);

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
